"main";_f4b‍.x([["bitstamp",()=>bitstamp]]);let axios;_f4b‍.w("axios",[["default",["axios"],function(v){axios=v}]]);let Market;_f4b‍.w("../markets.js",[["Market",["Market"],function(v){Market=v}]]);


const bitstamp = {
    label: 'bitstamp',
    tradingFees: 0.025,
    withdrawalFees: {
        btc: 0.0005,
        eth: 0.006,
        xrp: 1,
        "bcc/bch": 0.001,
        xlm: 0.01,
        ltc: 0.01,
        ada: 0.2,
        trx: 0.003,
        neo: 0.025,
        etc: 0.01,
        xem: 4,
        omg: 0.35,
        lsk: 0.1,
        zrx: 1,
    },
    async fetchMarkets(){
        let markets = []
        const apiResult = await axios.get("https://www.bitstamp.net/api/v2/trading-pairs-info/")
        for (let remotePair of apiResult.data){
            const pairLabel = remotePair.name
            let newMarket = Market('bitstamp', remotePair.url_symbol)
            newMarket.baseCurrency = pairLabel.split('/')[0].toLowerCase()
            newMarket.quoteCurrency = pairLabel.split('/')[1].toLowerCase()
            markets.push(newMarket)
        } 
        return markets
    },
    async getPairPrice(pairLabel){
        await axios.get(`https://bittrex.com/Api/v2.0/pub/market/GetLatestTick?marketName=${pair.label}&tickInterval=fiveMin`)
                .then(result => {
                    if (result.data.result !== null){
                        pair.price = Number(result.data.result[0].C)
                    }
                })
    }
}


